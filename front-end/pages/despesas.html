<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Despesas</title>
    <link rel="stylesheet" href="../css/despesas.css">
    <script src="../scripts/despesa.js" defer></script>
</head>

<body class="doodle-body flex flex-col items-center justify-center min-h-screen p-6">

    <!-- Navbar -->
    <nav class="navbar">
        <a href="home.html" class="nav-button">In√≠cio</a>
        <a href="despesas.html" class="nav-button active">Despesas</a>
        <a href="receita.html" class="nav-button">Receitas</a>
        <a href="relatorio.html" class="nav-button">Relat√≥rios</a>
        <a href="categorias.html" class="nav-button">Categorias</a>
    </nav>

    <div class="w-full max-w-lg space-y-6 bg-white p-6 rounded-2xl shadow doodle-card">
        <h1 class="text-3xl font-bold text-center">Gerenciar Despesas</h1>

        <!-- Formul√°rio de nova despesa -->
        <form id="add-expense-form">
            <input type="text" id="expense-description" placeholder="Descri√ß√£o" class="doodle-input" required>
            <input type="number" id="expense-amount" placeholder="Valor" class="doodle-input" step="0.01" required>
            <input type="date" id="expense-date" class="doodle-input" required lang="pt-BR">

            <select id="expense-category" class="doodle-input" required>
                <option value="" disabled selected>Selecione uma categoria</option>
            </select>

            <!-- üîπ Novo campo de forma de pagamento -->
            <select id="expense-payment" class="doodle-input" required>
                <option value="" disabled selected>Forma de pagamento</option>
                <option value="DINHEIRO">Dinheiro</option>
                <option value="CARTAO">Cart√£o</option>
                <option value="PIX">Pix</option>
            </select>

            <button id="add-expense-btn" type="submit" class="doodle-button">Adicionar Despesa</button>
        </form>

        <div id="balance-box" class="balance-box">
            <span>üí∞ Saldo Atual:</span>
            <strong id="current-balance">R$ 0,00</strong>
        </div>

        <!-- Header da lista -->
        <div class="list-header flex justify-between items-center mb-2">
            <h2 class="text-xl font-semibold">√öltimas Despesas</h2>
            <button id="refresh-expenses" class="doodle-button px-3 py-1 text-sm">‚ü≥</button>
        </div>

        <div class="doodle-box">
            <!-- Cabe√ßalho das colunas -->
            <div class="expense-columns">
                <div>Descri√ß√£o</div>
                <div>Valor</div>
                <div>Data</div>
                <div>Categoria</div>
                <div>Pagamento</div>
                <div>A√ß√µes</div>
            </div>

            <!-- Lista -->
            <ul id="expense-list" class="space-y-2"></ul>
        </div>



        <!-- Modal edi√ß√£o -->
        <div id="edit-expense-modal" class="modal-overlay hidden">
            <div class="modal-card w-full max-w-lg space-y-6 bg-white p-6 rounded-2xl shadow doodle-card">
                <button id="close-edit-expense" class="modal-close">‚úñ</button>
                <h2 class="text-xl font-bold mb-4">Editar Despesa</h2>
                <form id="edit-expense-form" class="space-y-4">
                    <input type="hidden" id="edit-expense-id">

                    <input type="text" id="edit-expense-description" class="doodle-input w-full" required>
                    <input type="number" id="edit-expense-amount" class="doodle-input w-full" step="0.01" required>
                    <input type="date" id="edit-expense-date" class="doodle-input w-full" required>

                    <select id="edit-expense-category" class="doodle-input w-full" required>
                        <option value="" disabled selected>Selecione uma categoria</option>
                    </select>

                    <!-- üîπ Forma de pagamento no modal -->
                    <select id="edit-expense-payment" class="doodle-input w-full" required>
                        <option value="" disabled selected>Forma de pagamento</option>
                        <option value="DINHEIRO">Dinheiro</option>
                        <option value="CARTAO">Cart√£o</option>
                        <option value="PIX">Pix</option>
                    </select>

                    <div class="flex justify-end gap-3">
                        <button type="button" id="cancel-edit-expense" class="doodle-button">Cancelar</button>
                        <button type="submit" class="doodle-button">Salvar</button>
                    </div>
                </form>
            </div>
        </div>






</body>

</html>