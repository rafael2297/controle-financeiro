<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relatórios</title>

    <!-- CSS -->
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/relatorio.css" />

    <!-- Scripts (Chart primeiro, depois seu JS) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="../scripts/relatorio.js" defer></script>
</head>

<body class="doodle-body flex items-center justify-center min-h-screen">

    <!-- Navegação principal -->
    <nav class="navbar">
        <a href="home.html" class="nav-button">Início</a>
        <a href="despesas.html" class="nav-button">Despesas</a>
        <a href="receita.html" class="nav-button">Receitas</a>
        <a href="relatorio.html" class="nav-button active">Relatórios</a>
        <a href="categorias.html" class="nav-button">Categorias</a>
    </nav>

    <!-- Container principal -->
    <div id="main-app" class="doodle-card max-w-4xl w-full p-6 sm:p-8">

        <!-- Cabeçalho -->
        <header class="text-center mb-6">
            <h1 class="doodle-title">📊 Relatórios Financeiros</h1>
            <p class="doodle-subtitle">Visualize o resumo de suas despesas e receitas.</p>
        </header>

        <!-- Filtro por Período -->
        <div class="filter-box">
            <label for="start-date">Data Inicial:</label>
            <input type="date" id="start-date" class="doodle-input" />

            <label for="end-date">Data Final:</label>
            <input type="date" id="end-date" class="doodle-input" />

            <button id="filter-report" class="doodle-button">Filtrar</button>
            <button id="clear-filter" class="doodle-button">Limpar</button>
        </div>

        <!-- Filtro por Categoria -->
        <div class="filter-box">
            <label for="filter-category">Categoria:</label>
            <select id="filter-category" class="doodle-input">
                <option value="">Todas</option>
            </select>
        </div>

        <!-- Resumo -->
        <div class="doodle-box mb-6">
            <h2 class="doodle-section-title">Resumo Geral</h2>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4 text-center">
                <div class="p-4 border-2 border-black rounded-lg">
                    <h3 class="font-bold">Total de Receitas</h3>
                    <p id="total-incomes" class="text-green-600 text-xl font-extrabold mt-2">R$ 0,00</p>
                </div>
                <div class="p-4 border-2 border-black rounded-lg">
                    <h3 class="font-bold">Total de Despesas</h3>
                    <p id="total-expenses" class="text-red-600 text-xl font-extrabold mt-2">R$ 0,00</p>
                </div>
                <div class="p-4 border-2 border-black rounded-lg">
                    <h3 class="font-bold">Saldo</h3>
                    <p id="balance" class="text-blue-600 text-xl font-extrabold mt-2">R$ 0,00</p>
                </div>
            </div>
        </div>

        <!-- Gráfico de Pizza centralizado -->
        <div class="doodle-box mb-6 flex justify-center">
            <div class="flex flex-col items-center">
                <h2 class="doodle-section-title">Gráficos</h2>
                <!-- Tamanho controlado por width/height e CSS -->
                <canvas id="report-chart" width="300" height="300"></canvas>
            </div>
        </div>
        <!-- Histórico: gráfico de linha à esquerda e lista à direita -->
        <div class="doodle-box">
            <h2 class="doodle-section-title">Histórico</h2>

            <div class="history-container">
                <!-- Caixa do gráfico -->
                <div class="history-chart-box">
                    <canvas id="history-chart" width="600" height="300"></canvas>
                </div>

                <!-- Lista ao lado direito com cabeçalho e cards -->
                <div class="history-list">
                    <!-- Cabeçalho das colunas -->
                    <div class="history-columns">
                        <div>Descrição</div>
                        <div>Valor</div>
                        <div>Data</div>
                        <div>Tipo</div>
                    </div>

                    <!-- Itens adicionados via JS -->
                    <div id="report-history"></div>
                </div>
            </div>
        </div>

</body>

</html>